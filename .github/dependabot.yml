version: 2

updates:
  # sigstore-python:stable
  - package-ecosystem: pip
    directory: "/conformance/stable/sigstore-python"
    schedule:
      interval: daily
    labels:
      - "dependencies"
      - "matrix:stable"

  # cosign:stable
  - package-ecosystem: docker
    directory: "/conformance/stable/cosign"
    schedule:
      interval: daily
    allow:
      - dependency-name: cosign
    labels:
      - "dependencies"
      - "matrix:stable"

  # sigstore-python:nightly and cosign:nightly
  # NOTE: Ideally we'd break up each nightly check into a separate rule,
  # but Dependabot's support for doing so (with submodules as the ecosystem)
  # is somewhat limited.
  - package-ecosystem: gitsubmodule
    directory: /
    schedule:
      interval: daily
    labels:
      - "dependencies"
      - "matrix:nightly"
